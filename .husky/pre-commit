echo "ğŸš€ Running pre-commit validations..."

echo "ğŸ” Checking types with TypeScript..."
npm run build:check
if [ $? -ne 0 ]; then
    echo "âŒ TypeScript compilation error. Commit aborted."
    exit 1
fi
echo "âœ… Types checked successfully."

echo "ğŸ’… Running ESLint and tests on modified files..."
npx lint-staged
if [ $? -ne 0 ]; then
    echo "âŒ Error in ESLint or tests. Commit aborted."
    exit 1
fi

echo "ğŸ‰ All validations passed! Committing..."