# TODO: Create common schema for pagination
input PaginatedDiscussionsInput {
  limit: Int!
  after: String
}

type PaginatedDiscussions {
  items: [Discussion!]!
  nextCursor: String
}

type Tag {
  id: ID!
  name: String!
}

type Comment {
  authorId: ID!
  text: String!
  createdAt: String! # ISO Format
}

type Discussion {
  id: ID!
  title: String!
  description: String!
  createdByUserId: ID!
  tags: [Tag!]!
  comments: [Comment!]!
  createdAt: ID!
  # updatedAt: String!
}

type StartDiscussionPayload {
  success: Boolean!
  message: String!
  discussion: Discussion
}

input StartDiscussionInput {
  title: String!
  description: String!
  tags: [ID!]
}

type Query {
  discussions(input: PaginatedDiscussionsInput!): PaginatedDiscussions!
  discussion(id: ID!): Discussion
}

type Mutation {
  startDiscussion(input: StartDiscussionInput!): StartDiscussionPayload!
}
